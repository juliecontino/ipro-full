if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(s){function e(){var e=s.aljs.scoped?s(".slds"):o;s(".slds-backdrop").remove(),e.append('<div class="aljs-modal-container"></div>');var a=s(".aljs-modal-container");d.appendTo(a).append('<div class="slds-backdrop"></div>').attr("aria-hidden","true").addClass("slds-hide")}function a(e,a){var i=e.data("aljs-show"),o=s("#"+i);void 0===i?console.error('No "data-aljs-show" attribute has been set'):(o.modal("show",a),e.blur(),t=e)}var i,o=s("body"),d=s(".slds-modal"),t=null;s.fn.modal=function(l,n){function r(s){27==s.keyCode&&d.is(":visible")&&c()}function c(){f.self.modal("dismiss",m).unbind("click"),o.unbind("keyup",r),d.unbind("click"),h.unbind("click")}function u(e){a(s(this),l)}var f={};if(f.self=this,f.ariaTarget=s("> *:not(.aljs-modal-container, script, link, meta)",o),f.tabTarget=s('[href], [contentEditable="true"], button, a, input, textarea',f.ariaTarget),f.hasSelector=l&&l.hasOwnProperty("selector")?!0:!1,null!==l&&"string"==typeof l){var m=s.extend({selector:null,dismissSelector:'[data-aljs-dismiss="modal"]',backdropDismiss:!1,onShow:function(s){},onShown:function(s){},onDismiss:function(s){},onDismissed:function(s){}},n),h=s(m.dismissSelector),p=s(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(l){case"show":i=!0,f.id=this.attr("id"),s(".slds-modal").removeClass("slds-fade-in-open").attr("aria-hidden","false"),s(".slds-backdrop").remove(),s(".aljs-modal-container").append('<div class="slds-backdrop"></div>'),o.keyup(r),f.self.addClass("slds-show"),h.click(function(s){s.preventDefault(),c()}),m.backdropDismiss&&(d.click(c),p.click(function(s){s.stopPropagation()})),f.ariaTarget.attr("aria-hidden","true"),f.tabTarget.attr("tabindex","-1"),setTimeout(function(){s(".slds-backdrop").addClass("slds-backdrop--open"),f.self.addClass("slds-fade-in-open").trigger("show.aljs.modal"),m.onShow(f),setTimeout(function(){f.self.trigger("shown.aljs.modal"),m.onShown(f),i=!1},400)},25);break;case"dismiss":i||s(".slds-backdrop").removeClass("slds-backdrop--open"),m.onDismiss(f),f.ariaTarget.attr("aria-hidden","false"),f.tabTarget.removeAttr("tabindex"),f.self.removeClass("slds-fade-in-open").attr("aria-hidden","true"),null!==t&&t.focus(),f.self.trigger("dismiss.aljs.modal"),setTimeout(function(){i||s(".slds-backdrop").remove(),t=null,f.self.addClass("slds-hide").trigger("dismissed.aljs.modal"),m.onDismissed(f)},200);break;case"trigger":var b=f.self.data("aljs-show"),k=s("#"+b);k.modal("show",m);break;default:console.error("The method you entered does not exist")}}else f.hasSelector&&1===this.length?(e(),this.on("click",l.selector,u)):(e(),f.self.click(function(){a(s(this),l)}));return this}}(jQuery);