AcctSeed.ASModule=function(t,e,i,l){"use strict";var a,n=[],o=(l.addAttachments=function(e,t){n=n.concat(e),o(n)},function(e){void 0!==a&&a.destroy(),a=i('[id$="mainTable"]').DataTable({data:e,paging:!1,lengthChange:!1,pageLength:10,searching:!1,ordering:!1,info:!1,autoWidth:!1,columns:[{title:"Name",data:"fileName"},{title:"Size",data:"fileSize",render:function(e,t,a,n){return l.fileSizeFormatter(e,3)},className:"dt-head-right dt-body-right"},{title:"Action",data:"fileId",render:function(e,t,a,n){return"<a href='#' id='"+e+"' class='cancelAttachment'><span style='color: red;'>Cancel</span></a>"},className:"dt-head-center dt-body-center"}]}),i('[id$="proxyInput"]').val(JSON.stringify(e)),i(".cancelAttachment").on("click",function(){d(i(this).attr("id"))})}),d=function(e){for(var t=[],a=0;a<n.length;a++)n[a].fileId!==e&&t.push(n[a]);o(n=t)},r=(l.setCustomStyleOnBtn=function(e){i(".btn").toggleClass("btnDisabled").val(e)},l.newWin=null,l.openCustomFilePicker=function(e){return l.newWin=t.open(e,"Popup","height=550,width=780,left=200,top=200,resizable=no,scrollbars=no,toolbar=no,status=no"),t.focus&&l.newWin.focus(),!1},l.closeCustomFilePicker=function(){null!=l.newWin&&l.newWin.close()},l.setContact=function(e,t){Visualforce.remoting.Manager.invokeAction(l.setContactRemote,e,t,function(e,t){{var a,n;t.status?e.isValidContact?("undefined"==typeof CKEDITOR||null===CKEDITOR?(""==i('[id$="emailSubject"]').val()&&i('[id$="emailSubject"]').val(e.template.emailSubject),""==i('[id$="emailBody"]').val()&&i('[id$="emailBody"]').val(e.template.emailBody)):(""==i('[id$="emailSubject"]').val()&&i('[id$="emailSubject"]').val(e.template.emailSubject),a=i('[id$="emailBody"]').attr("id"),n=e.template.emailBody,""==CKEDITOR.instances[a].getData()&&CKEDITOR.instances[a].setData(n)),i('[id$="emailAttachButton"]').attr("disabled",!1),i('[id$="emailAttachButton"]').addClass("btn"),i('[id$="emailAttachButton"]').removeClass("btnDisabled"),i('[id$="errorPanel"]').hide()):r(e.errorMessage):r(t.message)}},{escape:!1,timeout:12e4})},function(e){s(e),i('[id$="emailAttachButton"]').attr("disabled","disabled"),i('[id$="emailAttachButton"]').addClass("btnDisabled")}),s=function(e){e&&(i('[id$="errorPanel"]').show(),i('[id$="errorPanel"]').html("Error: "+e))};return l.validateEmails=function(){i('[id$="emailErrorPanel"]').hide();var e=!0;return i(".tag").each(function(){i(this).hasClass("notValid")&&(e=!1)}),e?l.setCustomStyleOnBtn("Processing..."):(i('[id$="emailErrorPanel"]').show(),i('[id$="emailErrorPanel"]').find("h4").html("One or more ะกะก Addresses are not valid."),!1)},i(t).on("load",function(){i("#loader1").css("display","none")}),i(e).ready(function(){""!==i('[id$="proxyInput"]').val()&&l.addAttachments(JSON.parse(i('[id$="proxyInput"]').val()))}),l}(window,document,$j,AcctSeed.ASModule);