AcctSeed.ASModule=function(t,d,e){"use strict";function o(e,t,i,n){var a;return"theBillingTable"==e?t&&i?a=[n+2,n+4,n+5,n+6,n+7,n+8]:!t&&i?a=[n+1,n+3,n+4,n+5,n+6,n+7]:t&&!i?a=[n+2,n+4,n+5,n+6,n+7]:t||i||(a=[n+1,n+3,n+4,n+5,n+6]):"theAPMemoTable"==e?a=i?[5,7,8,9]:[5,7,8]:"theBillingMemoTable"==e?t&&i?a=[5,7,8,9]:!t&&i?a=[4,6,7,8]:t&&!i?a=[5,7,8]:t||i||(a=[4,6,7]):"theCDApplyTable"==e&&(a=i?[5,7,8,9]:[5,7,8]),a}function i(){var e,t,i=!0,n=($=parseInt(d('[id$="offset"]').val()),h=parseInt(d('[id$="recLimit"]').val()),m=parseInt(d('[id$="recordSetSize"]').val()),parseInt(d('[id$="sortFieldIndex"]').val())),a=parseInt(d('[id$="sortOrderIndex"]').val()),l=parseInt(d('[id$="fieldListSize"]').val()),a=0===a?"asc":"desc";0!==d('[id$="theBillingTable"]').length?(t=d('[id$="theBillingTable"]'),e=o("theBillingTable",0!==d('[id$="customerColumn"]').length,0!==d('[id$="buttonPanel"]').length,l),b=!1):0!==d('[id$="theAPMemoTable"]').length?(t=d('[id$="theAPMemoTable"]'),e=o("theAPMemoTable",null,0!==d('[id$="buttonPanel"]').length),b=!1):0!==d('[id$="theBillingMemoTable"]').length&&(t=d('[id$="theBillingMemoTable"]'),e=o("theBillingMemoTable",0!==d('[id$="customerColumn"]').length,0!==d('[id$="buttonPanel"]').length),b=!1),0!==d('[id$="theCDApplyTable"]').length&&(t=d('[id$="theCDApplyTable"]'),e=o("theCDApplyTable",0!==d('[id$="customerColumn"]').length,0!==d('[id$="buttonPanel"]').length),b=!1),t.DataTable({processing:!1,serverSide:!0,displayStart:$,pageLength:h,lengthMenu:[10,25],deferLoading:m,order:[[n,a]],columnDefs:[{targets:e,orderable:!1}],searching:!1,preDrawCallback:function(){return i},drawCallback:function(e){d(".dataTables_length").find("select").on("change",function(){var t=this;if(b)return x(function(e){e?(e=1===d(t).prop("selectedIndex")?0:1,d(t).prop("selectedIndex",e)):(b=!1,d(t).change())}),!1;d('[id$="recLimit"]').val(d(this).val()),d('[id$="offset"]').val(0),f()}),d(".sorting,.sorting_asc,.sorting_desc").on("click",function(){var t=this;if(b)return x(function(e){e||(b=!1,d('[id$="isError"]').val("false"),d(t).click())}),!1;d('[id$="sortFieldIndex"]').val(d(this).index());var e="1"===d('[id$="sortOrderIndex"]').val()?"0":"1";d('[id$="sortOrderIndex"]').val(e),f()}),d('[id$="from"]').on("click",function(){b=!0,T(this.id)}),d('[id$="to"]').on("click",function(){b=!0,y(this.id)}),d('[id$="receivedAmount"]').on("keyup change",function(){b=!0,P(this)}),d('[id$="accountingPeriod"],[id$="adjustmentGLAccount"]').on("change",function(e){b=!0}),d('[id$="adjustmentAmount"]').on("keyup change",function(){b=!0,C(this)}),d(".dataTables_paginate a").on("click",function(){var t=this,e=!1;return!(e=!!(d(t).hasClass("previous")&&0===$||d(t).hasClass("next")&&m<=$+h)||e)&&(b?(x(function(e){e||(b=!1,d('[id$="isError"]').val("false"),d(t).click())}),!1):(d(t).hasClass("previous")?$-=h:d(t).hasClass("next")?$+=h:$=d(t).hasClass("first")?0:d(t).hasClass("last")?m:(parseInt(d(t).text(),10)-1)*h,d('[id$="offset"]').val($),void f()))})}}),i=!1}function a(e){var t=d('[id$=":applyBalanceAmount"]'),i=g(d('[id$=":applyAmount"]').text()),n=g(d('[id$=":applyAppliedAmount"]').text());t.text(p(i-n))}function l(e){var t=d('[id$=":'+e+':balanceAmount"]'),i=0<d('[id$=":'+e+':billingAmount"]').length?d('[id$=":'+e+':billingAmount"]').text():"0",n=0===d('[id$="theBillingTable"]').length&&0<d('[id$=":'+e+':discountAmount"]').length?d('[id$=":'+e+':discountAmount"]').text():"0",a=0===d('[id$="theBillingTable"]').length&&0<d('[id$=":'+e+':taxAmount"]').length?d('[id$=":'+e+':taxAmount"]').text():"0",e=0<d('[id$=":'+e+':appliedAmount"]').length?d('[id$=":'+e+':appliedAmount"]').text():"0",i=g(i)-g(n)-g(a)-g(e);t.text(p(Math.round10(i,-2)))}function u(e){var t=d('[id$=":'+e+':appliedAmount"]'),i=g(d('[id$=":'+e+':appliedAmountOrig"]').text()),n=g(d('[id$=":'+e+':receivedAmount"]').val()?d('[id$=":'+e+':receivedAmount"]').val():"0"),e=g(0<d('[id$=":'+e+':adjustmentAmount"]').length&&d('[id$=":'+e+':adjustmentAmount"]').val()?d('[id$=":'+e+':adjustmentAmount"]').val():"0");t.text(p(i+n+e))}function r(e){return e.split(":")[5]}function s(){A('[id$="receivedAmount"],[id$="appliedApplyAmountOrig"],[id$="billingAppliedAmount"]','[id$="applyAppliedAmount"]')}var n,c,$,h,m,p=e.currencyFormatterProxy,g=e.numberParser,v=e.numberFormatter,A=e.sumColumnAndSetTotal,f=e.refreshTable,b=(vex.defaultOptions.className="vex-theme-default",vex.dialog.buttons.YES.text="No",!(vex.dialog.buttons.NO.text="Yes")),x=(e.redrawTable=function(){e.pageLoad(),"true"!==d('[id$="isError"]').val()&&(b=!1),d('[id$="thePanel"]').css("visibility","visible")},function(t){vex.dialog.confirm({message:"Do you want to leave this page? You have unsaved changes.<br/>Click Save &amp; Refresh to save your changes.",callback:function(e){t(e)}})}),T=(e.disableArrowButtons=function(){d(".arrowButton").css("color","GrayText").attr("cursor","default").prop("disabled",!0)},function(e){var e=r(e),t=d('[id$=":'+e+':receivedAmount"]'),i=g(d('[id$=":applyBalanceAmount"]').text()),n=g(d('[id$=":'+e+':balanceAmount"]').text());i<n&&(n=i),t.val(v(n=i<0||n<0?0:n)),u(e),l(e),s(),a(),d('[id$=":'+e+':from"]').hide(),d('[id$=":'+e+':to"]').show(),d('[id$=":'+e+':accountingPeriodRequired"]').show()}),y=function(e){e=r(e);d('[id$=":'+e+':receivedAmount"]').val(""),0<d('[id$=":'+e+':adjustmentAmount"]').length&&d('[id$=":'+e+':adjustmentAmount"]').val(""),u(e),l(e),s(),a(),d('[id$=":'+e+':from"]').show(),d('[id$=":'+e+':to"]').hide(),d('[id$=":'+e+':accountingPeriodRequired"]').hide()},P=function(e){var t=r(e.id);d('[id$=":'+t+':receivedAmount"]'),g(d('[id$=":applyBalanceAmount"]').text());u(t),l(t),s(),a(),d(e).val()?(d('[id$=":'+t+':from"]').hide(),d('[id$=":'+t+':to"]').show(),d('[id$=":'+t+':accountingPeriodRequired"]').show()):(d('[id$=":'+t+':from"]').show(),d('[id$=":'+t+':to"]').hide(),d('[id$=":'+t+':accountingPeriodRequired"]').hide())},C=function(e){var t=r(e.id);u(t),l(t),s(),d(e).val()?d('[id$=":'+t+':adjustmentGLAccountRequired"]').show():d('[id$=":'+t+':adjustmentGLAccountRequired"]').hide()};e.noenter=function(e){e=t.event?t.event.keyCode:e.which;return 13!=e||(d('[id$="saveButtonTop"]').click(),!1)};return e.loadingTable=function(e){e?(n=d(t).scrollTop(),c=d(t).scrollLeft(),d('[id$="thePanel"]').css("visibility","hidden")):(d(t).scrollTop(n),d(t).scrollLeft(c),d('[id$="thePanel"]').css("visibility","visible"))},e.pageLoad=function(){s(),d('[id$="appliedAmount"],[id$="balanceAmount"],[id$="applyBalanceAmount"],[id$="applyAmount"],[id$="billingAmount"],[id$="discountAmount"],[id$="billingAppliedAmount"],[id$="adjustmentDisplayAmount"]').each(function(){d(this).text(p(d(this).text()))}),a(),d('[id$="receivedAmount"],[id$="adjustmentAmount"]').attr("maxlength","10"),i()},d(function(){e.pageLoad(),d('[id$="thePanel"]').css("visibility","visible")}),e}(window,(document,$j),AcctSeed.ASModule);