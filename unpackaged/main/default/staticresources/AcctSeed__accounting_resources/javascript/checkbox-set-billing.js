AcctSeed.ASModule=function(e,c,t){"use strict";var l,n,u,p,h;return void 0!==t.CheckBoxSet?(t.billingCheckBoxes=null,l={},n={},u=t.currencyFormatterProxy,p=t.numberParser,h=t.numberParserByLocale,l.selectors={full:'span[id$="amount-full"], th.amount-full>div>span',row:"td.amount-row>span",rowDate:"td.amount-row-date input",rowQuantity:"td.amount-row-quantity input, td.amount-row-quantity span",rowPrice:"td.amount-row-price input, td.amount-row-price span",rowTaxAmount:"td.amount-row-tax span",rowTotal:"td.amount-row-total",rowTaxRate:'input[id$="lineTaxRate"]'},l.methods={update:function(){var d=0;c(l.selectors.row).each(function(){var e,t=c(this).parents("tr.dataRow").first(),n=c(this),i=t.find(l.selectors.rowDate),a=t.find(l.selectors.rowQuantity),s=t.find(l.selectors.rowPrice),o=t.find(l.selectors.rowTaxAmount),r=t.find(l.selectors.rowTotal),t=t.find(l.selectors.rowTaxRate);i.is("[disabled]")?(n.text(""),r.text(""),o.text("")):(i=a.is("input")?a.val():a.text(),a=s.is("input")?s.val():s.text(),s=h(o.text(),-2),i=h(i,-4)*h(a,-4),null!=(e=t.length?""!=t[0].value?t[0].value:0:e)&&0!=e?s=i*p(e,-4):null!=e&&(s=0),n.text(u(i)),d+=a=i+s,r.text(u(a)),o.text(u(s)))}),c(l.selectors.full).text(u(d))},rebind:function(){c(l.selectors.rowQuantity+", "+l.selectors.rowPrice).bind("change",function(){l.methods.update()})}},n.defaultFieldValues={},n.selectors={main:".rbLines_checkbox_all",child:".rbLines_checkbox"},n.methods={load:function(){c(n.selectors.child).each(function(){var e=c(this).parents("tr.dataRow").first();e.find("input:not("+n.selectors.child+"):not(.readonly), textarea").each(function(){n.defaultFieldValues[this.id]=this.value}),e.find("img.closeIcon").each(function(){var e=c(this),t=c(this).parent(),n=t.find("a>img"),i=c(this).parent().children("input.readonly"),a=c(i[0]);c(i[1]).css("width",a.css("width")),t.css("width",parseInt(a.css("width"))+parseInt(a.css("border-left-width"))+parseInt(a.css("border-right-width"))+parseInt(e.css("width"))+parseInt(e.css("margin-right"))+parseInt(n.css("width"))+parseInt(n.css("margin-right"))+"px").css("display","inline-block")})}),l.methods.update()},click:function(e){var t=c(e).parents("tr.dataRow").first();e.checked?(t.find("input:text, textarea").removeAttr("disabled"),t.find("a>img").parent().css("opacity","1"),t.find("td.dataCell>span.lookupInput>img.closeIcon").each(function(){var e,t=c(this),n=t.parent().children("input.readonly"),i=c(n[0]),n=c(n[1]);(t.parent().parent().children('input[type="hidden"][id$="_lkid"]').get(0).value.match(/^0+$/g)?(t.css("display","none"),i.css("display","none"),n):(e=t.parent().parent().children('input[type="hidden"][id$="_lkold"]').get(0).value,n.css("display","none"),i.val(e),i.css("display","inline-block"),t)).css("display","inline-block")})):(t.find("input:not("+n.selectors.child+"):not(.readonly), textarea").each(function(){c(this).val(n.defaultFieldValues[this.id])}),t.find("input:text, textarea").attr("disabled","disabled").removeClass("error"),t.find("a>img").parent().css("opacity","0"),t.find("div.errorMsg").css("display","none"),t.find("td.dataCell>span.lookupInput>img.closeIcon").each(function(){var e=c(this),t=e.parent().children("input.readonly"),n=c(t[0]),t=c(t[1]);e.css("display","none"),t.css("display","none"),n.val("").css("display","inline-block")}))},update:function(){l.methods.update()},rebind:function(){l.methods.rebind()}},c(e).ready(function(){0<sfdcPage.onLoadQueue.length&&sfdcPage.executeOnloadQueue(),t.billingCheckBoxes=new t.CheckBoxSet(n),t.toggleSpinner(!1)})):c.error("You must load CheckBoxSet module before using this code."),t.checkControl=function(e){e.checked&&c("[id$=deposit]").attr("id")===e.id&&c("[id$=cashReceipt]").prop("checked",!0),e.checked||c("[id$=cashReceipt]").attr("id")!==e.id||c("[id$=deposit]").prop("checked",!1)},t.toggleSpinner=function(e){c(".custom-js-exec-spinner").toggle(e)},t.rerenderPage=function(){t.billingCheckBoxes=new t.CheckBoxSet(n),t.toggleSpinner(!1)},t}((window,document),$j,AcctSeed.ASModule);