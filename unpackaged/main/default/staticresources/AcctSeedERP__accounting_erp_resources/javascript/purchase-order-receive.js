AcctSeed.ASModule=function(a,o,i){var l={},r=void 0!==i.isMultiCurrencyEnabled&&"true"===i.isMultiCurrencyEnabled,t=(i.getCurrencyConversionRateByDate=function(){var e,t,n;r&&(n=o('[id$="poReceiveDate"]').val(),e=o('[id="ledgerId"]').val(),t=o('[id="isoCode"]').val(),moment.locale(i.defaultLocale),n=moment(n,"L").toDate(),isNaN(n)||(n=n.toUTCString(),Visualforce.remoting.Manager.invokeAction(i.getCurrencyConversionRateByDateAction,{apexType:"AcctSeed.PurchaseOrderReceive.CurrencyConversionDateDTO",ccrDate:n,ledgerId:e,isoCode:t},function(e,t){t.status?d(e):(t.type,a.getElementById("responseErrors").innerHTML=t.message)},{buffer:!0,escape:!0,timeout:12e4})))},i.getLocationsByWarehouses=function(e,n,o){Visualforce.remoting.Manager.invokeAction(i.getLocationsByWarehousesAction,e,function(e,t){t.status?n(e,o):(t.type,a.getElementById("responseErrors").innerHTML=t.message)},{buffer:!0,escape:!0,timeout:12e4})},i.setAllWarehouses=function(){var e=o('[id$="allWarehouse"] option:selected').index();o('[id$="warehouse"]').prop("selectedIndex",e),i.setLocationsAfterRerender()},i.setAllLocations=function(){var e=o('[id$="allLocations"] option:selected').index(),t=o('[id$="selectedLocationAllId"]').val();o('[id$="location"]').prop("selectedIndex",e),o('[id$="selectedLocationId"]').val(t)},i.setLocationAllFromWarehouseAll=function(){var e=o('[id$="allWarehouse"] option:selected').index(),e=(o('[id$="warehouse"]').prop("selectedIndex",e),o('[id$="allWarehouse"]').val());l.hasOwnProperty(e)?t():i.getLocationsByWarehouses([e],t)},function(e){s(e);e=o('[id$="allWarehouse"]').val(),e=c(e);let t=o('[id$="location"],[id$="allLocations"]');t.empty().append(e),t.val("")}),d=function(e){o('[id$="currencyConversionRate"]').val(e)},n=(i.setLocationFromWarehouse=function(e){var e=e.id.split(":")[4],t=o('[id$=":'+e+':warehouse"]').val(),e=":"+e+":locationPanel";l.hasOwnProperty(t)?n(void 0,e):i.getLocationsByWarehouses([t],n,e)},function(e,t){s(e);e=o('[id$="'+t+'"]').children("select");v(e)}),s=function(t){void 0!==t&&Object.keys(t).forEach(function(e){l[e]=t[e]})},c=function(e){let t=[];return(t=void 0!==e&&l.hasOwnProperty(e)?l[e].map(e=>new Option(e.Name,e.Id)):t).unshift(new Option("--None--","")),t},u=(i.setSelectedLocation=function(e){var e=o(e),t=e.next();t.val(e.val()),t.next().val(e.find(":selected").text())},i.setQuantityAll=function(){var t=o('[id$="quantityAll"] option:selected').text();o('[id$="pageBlockTable"] tbody tr').each(function(){var e;"Yes"==t?(e=o(this).find('[id$="quantityUnreceived"]').text(),o(this).find('[id$="quantity"]').val(e)):o(this).find('[id$="quantity"]').val("")})},i.setLocationsAfterRerender=function(){let t=new Set,n=o(this);o('[id$="warehouse"]').each(function(){var e;0<n.prop("selectedIndex")&&!l.hasOwnProperty(n.val())?t.add(n.val()):0==n.prop("selectedIndex")&&(e=":"+n.prop("id").split(":")[4]+":location",o('[id$="'+e+'"]').empty().append(new Option("--None--","")))}),0<o('[id$="allWarehouse"]').prop("selectedIndex")&&!l.hasOwnProperty(o('[id$="allWarehouse"]').val())?t.add(o('[id$="allWarehouse"]').val()):0==o('[id$="allWarehouse"]').prop("selectedIndex")&&o('[id$="allLocations"]').empty().append(new Option("--None--",""));var e=Array.from(t);0<e.length?i.getLocationsByWarehouses(e,u):u()},function(e){s(e),p(),o('[id$="location"]').each(function(){v(this)})}),p=function(){var e=o('[id$="allWarehouse"]').val();let t=o('[id$="allLocations"]');var n=t.next().val(),e=c(e);t.empty().append(e),t.val(n)},v=function(e){let t=o(e);var e=":"+t.parent().prop("id").split(":")[4]+":warehouse",e=o('[id$="'+e+'"]').val(),n=t.next().val(),e=c(e);t.empty().append(e),t.val(n)};return o(a).ready(function(){o('[id$="location"],[id$="allLocations"]').empty().append(new Option("--None--",""))}),i}((window,document),$j,AcctSeed.ASModule);